ImplÃ©mente un systÃ¨me ultra fiable pour gÃ©rer les interactions utilisateur suivantes : favoris, historique, likes, reviews et commentaires. Chaque action doit Ãªtre enregistrÃ©e de maniÃ¨re persistante, sans jamais Ãªtre supprimÃ©e automatiquement, mÃªme aprÃ¨s dÃ©connexion, rafraÃ®chissement ou mise Ã  jour du site.

1. Favoris
   - Bouton â€œAjouter aux favorisâ€ visible sur chaque fiche mÃ©dia.
   - Action persistante : une fois ajoutÃ©, le mÃ©dia reste dans les favoris jusquâ€™Ã  suppression manuelle.
   - Stockage en base de donnÃ©es liÃ© Ã  lâ€™utilisateur (clÃ© utilisateur + mÃ©dia).
   - Affichage dans le profil utilisateur, triable par date ou titre.
   - Aucun favori ne doit Ãªtre supprimÃ© automatiquement.

2. Historique
   - Chaque mÃ©dia consultÃ© est enregistrÃ© dans lâ€™historique de lâ€™utilisateur.
   - Stockage immÃ©diat Ã  lâ€™ouverture de la fiche (Ã©vÃ©nement `media.viewed`).
   - Historique visible dans le profil, avec date et heure de consultation.
   - Option â€œEffacer manuellementâ€ disponible, mais jamais de suppression automatique.
   - Historique synchronisÃ© sur tous les appareils (via compte connectÃ©).

3. Likes
   - Bouton â€œLikeâ€ sur chaque fiche mÃ©dia.
   - Un utilisateur peut liker une seule fois par mÃ©dia.
   - Stockage persistant : le like reste actif jusquâ€™Ã  retrait manuel.
   - Affichage du nombre total de likes + Ã©tat personnel (likÃ© ou non).
   - Les likes ne sont jamais rÃ©initialisÃ©s ou supprimÃ©s automatiquement.

4. Reviews
   - Formulaire de review sur chaque fiche mÃ©dia (note + texte).
   - Une review par utilisateur par mÃ©dia, modifiable Ã  tout moment.
   - Stockage en base avec timestamp, note, texte, et ID utilisateur.
   - Reviews affichÃ©es publiquement avec avatar, pseudo, date relative.
   - Les reviews ne sont jamais supprimÃ©es sauf par lâ€™utilisateur ou modÃ©ration manuelle.

5. Commentaires
   - Section commentaires sous chaque fiche mÃ©dia.
   - Saisie libre avec modÃ©ration (filtrage anti-spam, anti-insulte).
   - Stockage persistant avec ID utilisateur, mÃ©dia, timestamp, texte.
   - Affichage en liste chronologique ou par popularitÃ©.
   - Les commentaires ne sont jamais supprimÃ©s automatiquement.

6. SÃ©curitÃ© et persistance
   - Toutes les actions sont stockÃ©es dans une base de donnÃ©es relationnelle ou NoSQL avec index sur `user_id`, `media_id`, `timestamp`.
   - Aucun nettoyage automatique des donnÃ©es utilisateur.
   - Sauvegarde rÃ©guliÃ¨re des donnÃ©es (backup).
   - Synchronisation sur tous les appareils via compte connectÃ©.
   - API REST ou GraphQL avec endpoints sÃ©curisÃ©s :
     - `POST /favorites`, `GET /history`, `POST /likes`, `POST /reviews`, `POST /comments`
     - Authentification requise (JWT, OAuth2).

7. AccessibilitÃ© et UX
   - Feedback visuel immÃ©diat aprÃ¨s chaque action (toast â€œAjoutÃ© aux favorisâ€, â€œReview enregistrÃ©eâ€).
   - IcÃ´nes claires pour chaque action (â¤ï¸ pour like, â­ pour favoris, ğŸ“ pour review).
   - Navigation clavier et compatibilitÃ© mobile.
   - Modals accessibles pour saisie de review/commentaire.

8. Tests et validation
   - Tests unitaires : ajout/suppression de favoris, likes, reviews, commentaires.
   - Tests dâ€™intÃ©gration : affichage dans profil, persistance aprÃ¨s refresh/dÃ©connexion.
   - Tests E2E : utilisateur ajoute une review â†’ reconnecte â†’ review toujours prÃ©sente.
   - CritÃ¨res dâ€™acceptation :
     - Aucune donnÃ©e supprimÃ©e automatiquement.
     - Toutes les actions visibles dans le profil.
     - Synchronisation multi-appareil.
     - Temps de rÃ©ponse API < 250ms.
